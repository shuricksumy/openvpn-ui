{{ template "layout/base.html" . }}

{{define "head"}}
<title>OpenVPN - Certificates</title>
{{end}}

{{define "body"}}

<div class="row">
  <div class="col-md-12">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Clients details</h3>

      </div>
      <!-- /.box-header -->

      <div class="box-body">
        <!--if .ovstatus -->
        <div class="table-responsive">
         <table class="table no-margin">
            <thead>
            <tr>
              <th style="width:15%">ClientName</th>
              <th style="width:5%">StaticIP</th>
              <th style="width:5%">DefRoute</th>
              <th style="width:5%">IsRouter</th>
              <!-- <th>Revocation</th> -->
              <th style="width:35%">Description</th>
              <!-- <th>Details</th> -->
              <th class="textcenter" style="width:15%">Router Subnet</th>
              <th class="textcenter" style="width:15%">Route List</th>
              <th class="textcenter" style="width:5%">Action</th>
              <th></th>
            </tr>
            </thead>
            <tbody>

            {{range .clients}}
              <tr>

                  <!-- 1 sell -->
                  <td>
                    {{ .ClientName }}
                  </td>

                  <!-- 2 sell -->
                  <td>
                  {{ .StaticIP }}
                  </td>

                  <!-- 3 sell -->
                  <td>
                    {{ .IsRouteDefault }}
                  </td>

                  <!-- 4 sell -->
                  <td>
                    {{ .IsRouter }}
                  </td>


                  <!-- 5 sell -->
                  <td>
                  {{ .Description }}
                  </td>

                  <!-- 6 sell -->
                  <td>
                    {{ .RouterSubnet }} / {{ .RouterMask }}
                  </td>


                  <!-- 7 sell -->
                  <td>
                    {{ .RouteList }} vs {{ .RouteListUnselected }}
                  </td>

                  <!-- 8 sell -->
                  <td>
                    {{ .CSRFToken }}
                  </td>

                  </tr>

            {{end}}
            </tbody>
          </table>
        </div>
       </div>
        <!-- /.table-responsive -->
      </div>
      <!--else
          Fix your configuration
      end-->

     <!--
      <div class="box-footer clearfix">
        
      </div>
      -->

      <!--
      <div class="box-footer clearfix">
        <a href="javascript:void(0)" class="btn btn-sm btn-info btn-flat pull-left">Place New Order</a>
        <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a>
      </div>
    -->
      <!-- /.box-footer -->
    </div>
    <!-- /.box -->
  </div>

  <div class="box box-danger">
    <div class="box-header with-border">
      <h3 class="box-title">Restart OpenVPN</h3>
    </div>
    <!-- /.box-header -->
    <!-- <div class="box-body">
      <span id="helpBlock" class="help-block">If you are revoking Certificate, don't forget to restart your OpenVPN container to disconnect all active client sessions and make revocation to take the effect.<br/></span>
    </div> -->
    <div class="box-footer" style="float: right;">
        <table>
         <tr>
           <td style= "margin-right: 5px; vertical-align: bottom;"><i>If you are revoking Certificate, don't forget to restart your OpenVPN container.
                 Restart can take up to the 7 seconds. &nbsp;&nbsp;</i></td>
           <td><a href="{{urlfor "CertificatesController.Restart"}}" class="btn btn-danger btn-sm bg-red-gradient btn150" data-title="Restart OpenVPN container?" 
             title="Restart OpenVPN container" style="margin-right: 23px;">Restart OpenVPN Server</a></td>
          </tr>
        </table>
    </div>
    <div class="box-footer clearfix">
    </div>
    <!--
    <div class="box-footer clearfix">
      <a href="javascript:void(0)" class="btn btn-sm btn-info btn-flat pull-left">Place New Order</a>
      <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a>
    </div>
  -->
    <!-- /.box-footer -->
  </div>



</div>

<!-- Add an empty modal container -->
<div id="modal-edit-client"></div>

{{end}}